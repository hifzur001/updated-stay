<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Services - StayScape</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>
<body>
    <!-- Enhanced Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand cd fw-bold" href="index.html">
                <i class="fas fa-map-marked-alt me-2"></i>StayScape
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">
                            <i class="fas fa-home me-1"></i>Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">
                            <i class="fas fa-info-circle me-1"></i>About
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="services.html">
                            <i class="fas fa-concierge-bell me-1"></i>Services
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">
                            <i class="fas fa-envelope me-1"></i>Contact
                        </a>
                    </li>
                </ul>
                
                <div class="d-flex align-items-center">
                    <!-- Auth Buttons -->
                    <div id="authButtons">
                        <a href="#" class="bothBtnLink me-3" onclick="showLoginModal()">Login</a>
                        <button class="btn btn-primary" onclick="showSignupModal()">
                            <span class="registerBtnText">Sign Up</span>
                        </button>
                    </div>
                    
                    <!-- User Avatar (hidden initially) -->
                    <div id="userAvatar" class="dropdown" style="display: none;">
                        <button class="btn btn-outline-primary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                            <i class="fas fa-user-circle me-1"></i>
                            <span id="usernameDisplay"></span>
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="dashboard.html">
                                <i class="fas fa-tachometer-alt me-2"></i>My Bookings
                            </a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#" onclick="logout()">
                                <i class="fas fa-sign-out-alt me-2"></i>Logout
                            </a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <h1 class="cd" data-aos="fade-up">Our Services</h1>
                    <nav aria-label="breadcrumb" data-aos="fade-up" data-aos-delay="100">
                        <ol class="breadcrumb justify-content-center">
                            <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                            <li class="breadcrumb-item active">Services</li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="py-5">
        <div class="container">
            <!-- City Selection and Filter Controls -->
            <div class="row mb-4" data-aos="fade-up">
                <div class="col-md-6">
                    <label class="form-label fw-bold">Choose Your City</label>
                    <select class="form-select form-select-lg" id="citySelect">
                        <option value="">All Cities</option>
                        <!-- Cities will be populated by JavaScript -->
                    </select>
                </div>
                <div class="col-md-6 d-flex align-items-end">
                    <button class="btn btn-outline-primary btn-lg" type="button" data-bs-toggle="offcanvas" data-bs-target="#filtersOffcanvas">
                        <i class="fas fa-filter me-2"></i>Filters
                    </button>
                </div>
            </div>

            <!-- View Controls -->
            <div class="row mb-4">
                <div class="col-md-6">
                    <div class="results-info">
                        <span id="resultsCount">Loading services...</span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="d-flex justify-content-end align-items-center gap-3">
                        <!-- View Toggle -->
                        <div class="view-toggle btn-group" role="group">
                            <button type="button" class="btn btn-outline-secondary active" data-view="grid">
                                <i class="fas fa-th"></i>
                            </button>
                            <button type="button" class="btn btn-outline-secondary" data-view="list">
                                <i class="fas fa-list"></i>
                            </button>
                        </div>
                        
                        <!-- Sort Dropdown -->
                        <select class="form-select" id="sortSelect" style="width: auto;">
                            <option value="">Sort by</option>
                            <option value="price-low">Price: Low to High</option>
                            <option value="price-high">Price: High to Low</option>
                            <option value="rating">Rating</option>
                            <option value="name">Name</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- Services Grid -->
            <div id="servicesContainer" class="service-grid">
                <div class="row g-4" id="servicesGrid">
                    <!-- Services will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </section>

    <!-- Service Categories Section -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="text-center mb-5" data-aos="fade-up">
                <h2 class="cd gradient-text">Service Categories</h2>
                <p class="lead text-muted">Explore our wide range of services across Pakistan</p>
            </div>
            
            <div class="row g-4" id="serviceCategoriesGrid">
                <!-- Categories will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Filters Offcanvas -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="filtersOffcanvas">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title">
                <i class="fas fa-filter me-2"></i>Filters
            </h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
        </div>
        <div class="offcanvas-body">
            <!-- Category Filter -->
            <div class="mb-4">
                <h6 class="fw-bold mb-3">
                    <i class="fas fa-th-large me-2"></i>Categories
                </h6>
                <div class="category-filters" id="categoryFilterButtons">
                    <!-- Category buttons will be populated by JavaScript -->
                </div>
            </div>

            <!-- Price Range Filter -->
            <div class="mb-4">
                <h6 class="fw-bold mb-3">
                    <i class="fas fa-tag me-2"></i>Price Range
                </h6>
                <label class="form-label">Max Price: <span id="priceValue">PKR 50,000</span></label>
                <input type="range" class="form-range" id="priceRange" min="1000" max="50000" value="50000" step="500">
            </div>

            <!-- Rating Filter -->
            <div class="mb-4">
                <h6 class="fw-bold mb-3">
                    <i class="fas fa-star me-2"></i>Minimum Rating
                </h6>
                <select class="form-select" id="ratingFilter">
                    <option value="">Any Rating</option>
                    <option value="4.5">4.5+ Stars</option>
                    <option value="4.0">4.0+ Stars</option>
                    <option value="3.5">3.5+ Stars</option>
                    <option value="3.0">3.0+ Stars</option>
                </select>
            </div>

            <!-- Distance Filter -->
            <div class="mb-4">
                <h6 class="fw-bold mb-3">
                    <i class="fas fa-map-marker-alt me-2"></i>Distance
                </h6>
                <select class="form-select" id="distanceFilter">
                    <option value="">Any Distance</option>
                    <option value="5">Within 5km</option>
                    <option value="10">Within 10km</option>
                    <option value="25">Within 25km</option>
                    <option value="50">Within 50km</option>
                </select>
            </div>

            <!-- Amenities Filter -->
            <div class="mb-4">
                <h6 class="fw-bold mb-3">
                    <i class="fas fa-check-circle me-2"></i>Amenities
                </h6>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="amenities" value="wifi" id="wifi">
                    <label class="form-check-label" for="wifi">WiFi</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="amenities" value="parking" id="parking">
                    <label class="form-check-label" for="parking">Parking</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="amenities" value="ac" id="ac">
                    <label class="form-check-label" for="ac">Air Conditioning</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="amenities" value="pool" id="pool">
                    <label class="form-check-label" for="pool">Swimming Pool</label>
                </div>
            </div>

            <!-- Clear Filters Button -->
            <div class="d-grid">
                <button class="btn btn-outline-secondary" id="clearFilters">
                    <i class="fas fa-times me-2"></i>Clear All Filters
                </button>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Login to StayScape</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="loginForm">
                        <div class="mb-3">
                            <label for="loginUsername" class="form-label">Username or Email</label>
                            <input type="text" class="form-control" id="loginUsername" required>
                        </div>
                        <div class="mb-3">
                            <label for="loginPassword" class="form-label">Password</label>
                            <input type="password" class="form-control" id="loginPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">
                            <i class="fas fa-sign-in-alt me-2"></i>Login
                        </button>
                    </form>
                    <div class="text-center mt-3">
                        <p>Don't have an account? <a href="#" class="bothBtnLink" onclick="showSignupModal()">Sign up here</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Signup Modal -->
    <div class="modal fade" id="signupModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Create Account</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="signupForm">
                        <div class="mb-3">
                            <label for="signupUsername" class="form-label">Username</label>
                            <input type="text" class="form-control" id="signupUsername" required>
                        </div>
                        <div class="mb-3">
                            <label for="signupEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="signupEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="signupPassword" class="form-label">Password</label>
                            <input type="password" class="form-control" id="signupPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">
                            <i class="fas fa-user-plus me-2"></i>Create Account
                        </button>
                    </form>
                    <div class="text-center mt-3">
                        <p>Already have an account? <a href="#" class="bothBtnLink" onclick="showLoginModal()">Login here</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Service Detail Modal -->
    <div class="modal fade" id="serviceModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="serviceModalTitle"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="serviceModalBody">
                    <!-- Service details will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Booking Modal -->
    <div class="modal fade" id="bookingModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Book Service</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="bookingForm">
                        <input type="hidden" id="bookingServiceId">
                        <div class="mb-3">
                            <label for="bookingGuests" class="form-label">Number of Guests</label>
                            <input type="number" class="form-control" id="bookingGuests" min="1" value="1" required>
                        </div>
                        <div class="mb-3">
                            <label for="bookingCheckIn" class="form-label">Check-in Date</label>
                            <input type="date" class="form-control" id="bookingCheckIn" required>
                        </div>
                        <div class="mb-3">
                            <label for="bookingCheckOut" class="form-label">Check-out Date</label>
                            <input type="date" class="form-control" id="bookingCheckOut" required>
                        </div>
                        <button type="submit" class="btn btn-success w-100">
                            <i class="fas fa-calendar-check me-2"></i>Confirm Booking
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Footer -->
    <footer class="py-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-lg-4">
                    <h5 class="cd text-white mb-3">
                        <i class="fas fa-map-marked-alt me-2"></i>StayScape
                    </h5>
                    <p class="text-white-50 mb-3">
                        Your trusted travel companion in Pakistan, connecting you with authentic experiences across the country.
                    </p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="col-lg-2">
                    <h6 class="text-white mb-3">Quick Links</h6>
                    <ul class="list-unstyled">
                        <li><a href="index.html" class="text-white-50">Home</a></li>
                        <li><a href="about.html" class="text-white-50">About</a></li>
                        <li><a href="services.html" class="text-white-50">Services</a></li>
                        <li><a href="contact.html" class="text-white-50">Contact</a></li>
                    </ul>
                </div>
                <div class="col-lg-3">
                    <h6 class="text-white mb-3">Services</h6>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white-50">Accommodation</a></li>
                        <li><a href="#" class="text-white-50">Transportation</a></li>
                        <li><a href="#" class="text-white-50">Dining</a></li>
                        <li><a href="#" class="text-white-50">Entertainment</a></li>
                    </ul>
                </div>
                <div class="col-lg-3">
                    <h6 class="text-white mb-3">Contact Info</h6>
                    <ul class="list-unstyled">
                        <li class="text-white-50 mb-2">
                            <i class="fas fa-phone me-2"></i>+92 300 1234567
                        </li>
                        <li class="text-white-50 mb-2">
                            <i class="fas fa-envelope me-2"></i>info@stayscape.com
                        </li>
                        <li class="text-white-50">
                            <i class="fas fa-map-marker-alt me-2"></i>Lahore, Pakistan
                        </li>
                    </ul>
                </div>
            </div>
            <hr class="my-4 border-secondary">
            <div class="text-center">
                <p class="text-white-50 mb-0">&copy; 2024 StayScape. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- WhatsApp Button -->
    <a href="https://wa.me/923001234567" class="whatsapp-btn position-fixed" style="bottom: 20px; left: 20px; z-index: 1000;">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Go to Top Button -->
    <button id="goToTop" class="position-fixed" style="bottom: 20px; right: 20px; z-index: 1000;">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="js/script.js"></script>
    <script>
        // Auto-load all services on services page
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                loadAllServices();
                createServiceCategoriesGrid();
            }, 500);
        });

        // Create service categories grid
        function createServiceCategoriesGrid() {
            const categoriesGrid = document.getElementById('serviceCategoriesGrid');
            if (!categoriesGrid) return;

            categoriesGrid.innerHTML = '';
            
            serviceCategories.forEach((category, index) => {
                const col = document.createElement('div');
                col.className = 'col-lg-3 col-md-4 col-sm-6';
                col.setAttribute('data-aos', 'fade-up');
                col.setAttribute('data-aos-delay', (index * 100).toString());
                
                col.innerHTML = `
                    <div class="card value-card h-100 text-center" onclick="filterByCategory('${category.name}')">
                        <div class="card-body">
                            <div class="value-icon">
                                <i class="${category.icon} fa-3x text-green-primary"></i>
                            </div>
                            <h5 class="card-title">${category.name}</h5>
                            <p class="card-text text-muted">${category.description}</p>
                        </div>
                    </div>
                `;
                
                categoriesGrid.appendChild(col);
            });
        }

        // Filter by category and scroll to results
        function filterByCategory(categoryName) {
            // Update category filter buttons in offcanvas
            const categoryButtons = document.querySelectorAll('#categoryFilterButtons .category-btn');
            categoryButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-category') === categoryName) {
                    btn.classList.add('active');
                }
            });

            // Filter services
            filterServicesByCategory(categoryName);

            // Scroll to services section
            document.getElementById('servicesContainer').scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }
    </script>
</body>
</html>
